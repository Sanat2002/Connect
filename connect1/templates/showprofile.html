<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

  <title>Connect - Home</title>

  <style>
    body {
      display: flex;
      justify-content: center;
    }

    .bio {
      height: 6vw;
      overflow: scroll;
    }

    .bio::-webkit-scrollbar {
      display: none;
    }
  </style>

</head>

<body>

  <!-- firstpage -->
  {% if sug %}
  <div style="display: flex;flex-direction: column;">

    <div style="width: 50vw;margin-top: .2vw;display: flex;justify-content: space-between;">

      {% if showuser.profile_pic %}
      <img src="{{showuser.profile_pic.url}}" alt="Error!!!" style="height: 12vw;width: 12vw;border-radius: 10vw;">
      {% else %}
      <div style="background-color: black;height: 12vw;width: 12vw;border-radius: 10vw;"></div>
      {% endif %}

      <div style="width: 30vw;">

        <div style="font-size: 2.3vw;font-family: 'Times New Roman', Times, serif;">{{showuser.name}}</div>

        <div style="display: flex;">

          <div>
            <div style="text-align: center;font-size: 1.6vw;">{{noofposts}}</div>
            <div style="font-size: 1.2vw;color: rgb(69, 69, 238);">Posts</div>
          </div>

          <div style="margin-left: 5vw;">
            <div style="text-align: center;font-size: 1.6vw;">{{noofcons}}</div>
            <div style="font-size: 1.2vw;color: rgb(50, 216, 50);">Connections</div>
          </div>

        </div>

        <div class="bio">{{showuser.bio}}</div>

      </div>

    </div>

    <a href="{% url 'sendconnectionreq' showuser.name %}"><button class="btn btn-success" style="text-align: center;margin-top: 1vw;font-size:1.2vw;width: 50vw;">Connect</button></a>

  </div>
  {% endif %}
  
  <!-- secondpage -->
  {% if pndcon %}
  <div style="display: flex;flex-direction: column;">

    <div style="width: 50vw;margin-top: .2vw;display: flex;justify-content: space-between;">

      {% if showuser.profile_pic %}
      <img src="{{showuser.profile_pic.url}}" alt="Error!!!" style="height: 12vw;width: 12vw;border-radius: 10vw;">
      {% else %}
      <div style="background-color: black;height: 12vw;width: 12vw;border-radius: 10vw;"></div>
      {% endif %}

      <div style="width: 30vw;">

        <div style="font-size: 2.3vw;font-family: 'Times New Roman', Times, serif;">{{showuser.name}}</div>

        <div style="display: flex;">

          <div>
            <div style="text-align: center;font-size: 1.6vw;">{{noofposts}}</div>
            <div style="font-size: 1.2vw;color: rgb(69, 69, 238);">Posts</div>
          </div>

          <div style="margin-left: 5vw;">
            <div style="text-align: center;font-size: 1.6vw;">{{noofcons}}</div>
            <div style="font-size: 1.2vw;color: rgb(50, 216, 50);">Connections</div>
          </div>

        </div>

        <div class="bio">{{showuser.bio}}</div>

      </div>

    </div>

    <a href="{% url 'deletependingconnection' showuser.name %}"><button class="btn" style="text-align: center;margin-top: 1vw;color: white;font-size: 1.2vw; background-color: rgb(53, 197, 53);width: 50vw;">Requested</button></a>

  </div>
  {% endif %}

  <!-- thirdpage -->
  {% if con %}
  <div style="display: flex;flex-direction: column;align-items: center;">

    <div style="width: 50vw;margin-top: .2vw;display: flex;justify-content: space-between;">

      {% if showuser.profile_pic %}
      <img src="{{showuser.profile_pic.url}}" alt="Error!!!" style="height: 12vw;width: 12vw;border-radius: 10vw;">
      {% else %}
      <div style="background-color: black;height: 12vw;width: 12vw;border-radius: 10vw;"></div>
      {% endif %}

      <div style="width: 30vw;">

        <div style="font-size: 2.3vw;font-family: 'Times New Roman', Times, serif;">{{showuser.name}}</div>

        <div style="display: flex;">

          <div>
            <div style="text-align: center;font-size: 1.6vw;">{{noofposts}}</div>
            <div style="font-size: 1.2vw;color: rgb(69, 69, 238);">Posts</div>
          </div>

          <div style="margin-left: 5vw;">
            <div style="text-align: center;font-size: 1.6vw;">{{noofcons}}</div>
            <div style="font-size: 1.2vw;color: rgb(50, 216, 50);">Connections</div>
          </div>

        </div>

        <div class="bio">{{showuser.bio}}</div>

      </div>

    </div>

    <div style="border-top: 1px solid black;margin-top: 1vw;display: flex;justify-content: space-around; flex-wrap: wrap; width: 60vw;">

      {% comment %} in this case when we use {{post}} in image tag it does not show up because whenever we use {{post}} in img tag it searches the image in after removing one directory from the current open url(page url) and now in this page we have two dire (showprofile) and (nameofshowuser) , now when we use post in img tag it removes one diret (nameofshowuser) ,after that the current url have showprofile dire in it (in this path it searches for image ) so it gives error hence to prevent this i user http://127.0.0.1:8000/{{post}} {% endcomment %}

      {% for post in showuser.posts %}
      <div style="margin: .5vw 0;background-color:rgb(219 219 219);">
        <img src="http://127.0.0.1:8000/{{post}}" alt="Error!!!" style="height: 26vw;max-width: 29vw;">
      </div>
      {% endfor %}
      
    </div>

  </div>
   {% endif %}

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>

</body>

</html>